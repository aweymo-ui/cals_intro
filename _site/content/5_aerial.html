<!DOCTYPE html>
<html lang="en" class="h-100">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Aerial Timelapse | Digital Geolocation Tools for Archival Research</title>
<meta name="description" content="Presentation for Fall 2024 Information Landscapes Series">
<meta name="keywords" content="">
<meta name="author" content="Andrew Weymouth">
<link rel="icon" type="image/png" href="http://localhost:4000/geolocation/favicon.png">

<!--
  _      __         __        __           ______               __     __     
 | | /| / /__  ____/ /__ ___ / /  ___  ___/_  __/__ __ _  ___  / /__ _/ /____ 
 | |/ |/ / _ \/ __/  '_/(_-</ _ \/ _ \/ _ \/ / / -_)  ' \/ _ \/ / _ `/ __/ -_)
 |__/|__/\___/_/ /_/\_\/___/_//_/\___/ .__/_/  \__/_/_/_/ .__/_/\_,_/\__/\__/ 
                                    /_/                /_/                    

    built with workshop-template-b, evanwill, https://github.com/evanwill/workshop-template-b
--> 
   
<!-- Open Graph meta -->
<meta property="og:title" content="Aerial Timelapse | Digital Geolocation Tools for Archival Research" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Presentation for Fall 2024 Information Landscapes Series" />
<meta property="og:image" content="http://localhost:4000/geolocation/images/banner.gif" />
<meta property="og:site_name" content="Digital Geolocation Tools for Archival Research" />
<meta property="og:url" content="http://localhost:4000/geolocation/content/5_aerial.html" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{ "@context":"http://schema.org", "@type":"WebPage", "headline":"Aerial Timelapse | Digital Geolocation Tools for Archival Research", "author": { "@type":"Person", "name":"Andrew Weymouth"}, "description":"Presentation for Fall 2024 Information Landscapes Series", "image": "http://localhost:4000/geolocation/images/banner.gif", "url":"http://localhost:4000/geolocation/content/5_aerial.html" }</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anta&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/geolocation/assets/lib/spotlight.min.css">
<link rel="stylesheet" href="/geolocation/assets/lib/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="/geolocation/assets/css/styles.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">


<!-- Last build date: 2024-10-21 -->
  </head>

  <body class="d-flex flex-column h-100">
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <header>
    <nav class="navbar navbar-light pb-lg-0 border-bottom" style="background-color: #F0F8FF;">
    <div class="container">
        <h1 class="navbar-brand" style="white-space: normal;"><a href="/geolocation/">
            
            Digital Geolocation Tools for Archival Research
        </a></h1>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="mainNav">
            <ul class="navbar-nav nav-tabs justify-content-end">
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/geolocation/content/1_intro.html">
                        
                            Introduction
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/geolocation/content/2_text.html">
                        
                            Text Analysis
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/geolocation/content/3_reverse.html">
                        
                            Reverse Image Searching
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/geolocation/content/4_landmark.html">
                        
                            Landmark Identification
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link active p-3 h-100" href="/geolocation/content/5_aerial.html">
                        
                            Aerial Timelapse
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/geolocation/content/6_conclusion.html">
                        
                            Conclusion
                        
                    </a>
                </li>
            
            </ul>  
        </div>
    </div>
</nav>

    </header>

    <main id="maincontent" role="main" aria-label="Content" class="flex-shrink-0">
      
      <div class="container my-4">
<h1>Aerial Timelapse</h1>

<div class="ms-5 mb-3 border-bottom">
    </div>
    
<div class="my-4">

<p><strong>Another challenge in geolocation</strong> is identifying photographs of structures that have since been demolished. Creating a time-lapse using historical aerial photography can help you understand when and where significant features, such as bridges, buildings, and natural areas, were still standing.</p>

<div class="symbol-container">
    <p class="symbol">&#10042;</p>
</div>

<p class="h6 shadow-sm p-3 about-nav sticky-top" style="background-color: #F0F8FF;">
    Contents: <a class="mx-2" href="#platform-comparison">Platform Comparison</a> | <a class="mx-2" href="#google-earth-engine">Google Earth Engine</a> | <a class="mx-2" href="#output-comparison">Output Comparison</a> 
</p>

<h2 id="platform-comparison">Platform Comparison</h2>

<p>While there have been aerial photography initiatives active for over 100 years and major digital repositories now contain over 900 collections (referred to as ‘datasets’ in the GIS discipline), compositing this data together to form a comprehensive time lapse of a defined area is surprisingly difficult. Here are a few different freely available resources and their different strengths and weaknesses.</p>

<p><strong>Beginning with a few bad ones</strong> you don’t want to spend your time on (like I did):</p>

<table style="border-collapse: collapse; width: 100%;">
  <tr>
    <th style="border: 1px solid black; padding: 8px; width: 15%;">Platform</th>
    <th style="border: 1px solid black; padding: 8px; width: 28.33%;">Strengths</th>
    <th style="border: 1px solid black; padding: 8px; width: 28.33%;">Weaknesses</th>
    <th style="border: 1px solid black; padding: 8px; width: 28.33%;">Directions</th>
  </tr>
  <tr>
    <td style="border: 1px solid black; padding: 8px;">Google Earth Pro</td>
    <td style="border: 1px solid black; padding: 8px;"></td>
    <td style="border: 1px solid black; padding: 8px;"><li>This desktop version of Google Earth is where some older online references will point you towards for this functionality, but this is an outdated model that Google appears to have abandoned for more contemporary platforms</li> <li>The “Movie Maker” tool that would carry out this action no longer appears to be functional</li></td>
    <td style="border: 1px solid black; padding: 8px;"></td>
  </tr>
  <tr>
    <td style="border: 1px solid black; padding: 8px;">USGS Earth Explorer</td>
    <td style="border: 1px solid black; padding: 8px;">If you want to source aerial photographs and put them into a time lapse manually using a resource like Adobe Premiere or After Effects, this database contains material that predates many of the other resources, sometimes as far back as 1950, whereas the others only reach as far back as 1980.</td>
    <td style="border: 1px solid black; padding: 8px;"><li>As mentioned, only still images can be exported, so the time lapse function and overlaying images need to be done manually</li> <li>Extremely non-intuitive interface.</li></td>
    <td style="border: 1px solid black; padding: 8px;"></td>
  </tr>
  <tr>
    <td style="border: 1px solid black; padding: 8px;"><a href="https://earth.google.com/web/search/Moscow,+ID/@46.73489678,-117.00088295,787.89618213a,6616.90720226d,35y,0h,0t,0r/data=CjciJgokCWEEJ1ALx0dAEZtDN-Eme0ZAGeDG8ZNcE1zAISGjYGkCQ13AOg0IAREAAAAAAADgPyABOgMKATA">Google Earth</a></td>
    <td style="border: 1px solid black; padding: 8px;">
        <ul>
            <li>Very simple to use</li>
            <li>Good date range, reaching all the way back to 1984 in this example</li>
            <li>Landmark names help orient the viewer</li>
        </ul>
    </td>
    <td style="border: 1px solid black; padding: 8px;">
        <ul>
            <li>Very poor fidelity</li>
            <li>No video export functionality</li>
        </ul>
    </td>
    <td style="border: 1px solid black; padding: 8px;">
        <ol>
            <li>Enter your location</li>
            <li>Select the Layers button on the bottom left hand of the screen</li>
            <li>Toggle the time lapse button</li>
            <li>Adjust speed as wanted</li>
            <li>Screen capture to create video</li>
        </ol>
    </td>
  </tr>
  <tr>
    <td style="border: 1px solid black; padding: 8px;"><a href="https://livingatlas.arcgis.com/wayback/#active=39767&amp;mapCenter=-116.99564%2C46.73436%2C15&amp;animationSpeed=1000">ArcGIS World Imagery Wayback</a></td>
    <td style="border: 1px solid black; padding: 8px;">
        <ul>
            <li>Better fidelity</li>
            <li>Even more intuitive controls</li>
        </ul>
    </td>
    <td style="border: 1px solid black; padding: 8px;"><li>Historical reach isn’t very far; only about 10 years depending on the area.</li></td>
    <td style="border: 1px solid black; padding: 8px;">
        <ol>
            <li>Enter location</li>
            <li>Press the play button and adjust speed as desired</li>
            <li>Export video directly or upload to cloud</li>
        </ol>
    </td>
  </tr>
</table>

<p><br /></p>

<div class="symbol-container">
    <p class="symbol">&#10042;</p>
</div>

<p><br /></p>

<h2 id="google-earth-engine">Google Earth Engine</h2>

<p>While I found the learning curve for this resource steep, its adaptability, variety of datasets, and convenient export settings make it an excellent choice for geolocation. Like the USGS Earth Explorer, you’ll need to sign a waiver confirming that you’ll use the resource for non-profit purposes, but you should gain near-immediate access after signing.</p>

<p>The interface resembles a text editor familiar to those with coding experience. The left pane displays the scripts you’ve written, along with examples of other scripts you can automatically generate to aid your learning of the programmatic language. You’ll also find the Google Earth Engine documentation here for specific functionalities. The center pane is where you write and run your code, while the right pane features a console that functions as a terminal, displaying error messages and printing data after script execution. The task pane lists the scripts you’ve run along with their status.</p>

<p>The intention of the code is to create a time lapse over Moscow, ID, covering the longest possible time span.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Define the center of the 83843 area code in Moscow, Idaho
var moscowCenter = ee.Geometry.Point([-117.0028, 46.7326]); // Approximate center of 83843

// Define a square boundary around Moscow, covering an area of interest (e.g., 5 square miles ~ 12.95 square km)
var moscowBoundary = moscowCenter.buffer(1810).bounds(); // 1810 meters radius approximates a 5 square mile area

// Load the ImageCollection and filter by the defined area
var collection = ee.ImageCollection('USDA/NAIP/DOQQ')
  .filterBounds(moscowBoundary)
  .sort('system:time_start');
</code></pre></div></div>

<p>To start, we will define our geographic perimeter around the 83843 area code. Next, we will specify the dataset to use for creating this visualization. Although Google Earth Engine offers over 900 datasets, I found it challenging to combine them as a beginner, likely due to differences in metadata and color outputs. Therefore, for this script, we will focus solely on the National Agriculture Imagery Program dataset, which dates back to around 1980.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Get the earliest image
var earliestImage = collection.first();
var earliestDate;

if (earliestImage) {
  earliestDate = ee.Date(earliestImage.get('system:time_start')).format('YYYY-MM-dd').getInfo();
  print('Earliest Available Date:', earliestDate);

  // Define the updated date range
  var startDate = earliestDate; // Use earliest date found
  var endDate = '2024-06-01'; // End date

  // Filter the ImageCollection with the updated date range
  collection = collection.filterDate(startDate, endDate);

  // Function to get the image with the largest area for each year
  var getLargestImagePerYear = function(year) {
    var yearlyCollection = collection.filter(ee.Filter.calendarRange(year, year, 'year'));
    
    // Compute the intersection of each image with the boundary and calculate area
    var largestImage = yearlyCollection.map(function(image) {
      var intersection = image.geometry().intersection(moscowBoundary, 1); // Added error margin of 1 meter
      return image.set({'intersectionArea': intersection.area()});
    }).sort('intersectionArea', false).first(); // Sort by area and get the largest

    return largestImage;
  };

  // Get the years from the collection
  var years = ee.List(collection.aggregate_array('system:time_start'))
    .map(function(date) {
      return ee.Date(date).get('year');
    }).distinct();

  // Map over years to get the largest image per year
  var largestImagesCollection = ee.ImageCollection(years.map(getLargestImagePerYear))
    .sort('system:time_start'); // Ensure chronological order
</code></pre></div></div>

<p>Moving ahead, I encountered another complication: not all satellite photographs that capture parts of the area offer complete coverage, leaving distracting gaps in some of the earlier iterations of the code. To address this, I adjusted the code to request only the largest image for each year, ensuring optimal coverage and a better yield of images. A little farther down in the script, we are assembling these images chronologically, from earliest to most recent, and compiling them into a video format for export in red, green, and blue (RGB) color formatting.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> // Function to prepare images for video export and add date metadata
  var prepareForExport = function(image) {
    var date = ee.Date(image.get('system:time_start')).format('YYYY-MM-dd');
    
    // Visualize the image with appropriate bands and scale
    var visualImage = image.visualize({
      bands: ['R', 'G', 'B'],
      min: 0,
      max: 255
    });
    
    // Annotate the image with the date (add metadata)
    return visualImage.set({'date': date});
  };

  // Apply the function to the largest images collection
  var annotatedCollection = largestImagesCollection.map(prepareForExport);

  // Print dates of all images to the console in chronological order
  annotatedCollection.aggregate_array('date').evaluate(function(dates) {
    print('Image Dates:', dates);
  }, function(error) {
    print('Error:', error);
  });
</code></pre></div></div>
<p>Ideally, I wanted to create code that would automatically overlay the date information onto each photograph, providing viewers with a better frame of reference. However, the best I could achieve was to have this metadata “printed” in the console when the script runs. This data can then be easily added to the frames using video editing software like Adobe Premiere.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  // Define video export parameters with increased display time
  var videoParams = {
    region: moscowBoundary,
    dimensions: 900, // Adjust as needed
    crs: 'EPSG:3857',
    framesPerSecond: 0.5, // Increase time on screen to 2 seconds per image
    description: 'Moscow_TimeLapse',
    folder: 'EarthEngine'
  };

  // Export the video
  Export.video.toDrive({
    collection: annotatedCollection,
    description: videoParams.description,
    folder: videoParams.folder,
    dimensions: videoParams.dimensions,
    framesPerSecond: videoParams.framesPerSecond,
    crs: videoParams.crs,
    region: videoParams.region
  });

} else {
  print('No images found within the specified boundary.');
}
</code></pre></div></div>

<div class="symbol-container">
    <p class="symbol">&#10042;</p>
</div>

<p><strong>Finally</strong>, one of the convenient things about working with Google Earth Engine is that you can export videos, images and interactive maps you create directly into your Google Drive account. Additionally exported video files can be converted into GIF files and loaded onto project sites like we see below.</p>

<h2 id="output-comparison">Output Comparison</h2>

<figure class="figure d-block text-center p-3">
    <a class="spotlight" href="/geolocation/images/geo_39.gif"><img data-src="/geolocation/images/geo_39.gif" alt="Gif of Google Earth time lapse over Moscow, Idaho." style="width:100%;" class="figure-img img-fluid lazyload" /></a><figcaption class="figure-caption">Gif of Google Earth time lapse over Moscow, Idaho demonstrating lower fidelity.</figcaption></figure>

<figure class="figure d-block text-center p-3">
    <a class="spotlight" href="/geolocation/images/geo_41.gif"><img data-src="/geolocation/images/geo_41.gif" alt="Gif of ArcGIS World Imagery time lapse over Moscow, Idaho." style="width:100%;" class="figure-img img-fluid lazyload" /></a><figcaption class="figure-caption">Gif of ArcGIS World Imagery time lapse over Moscow, Idaho, demonstrating improved fidelity but shortened, more contemporary time span.</figcaption></figure>

<figure class="figure d-block text-center p-3">
    <a class="spotlight" href="/geolocation/images/geo_44.gif"><img data-src="/geolocation/images/geo_44.gif" alt="Gif of ArcGIS World Imagery time lapse over Moscow, Idaho." style="width:100%;" class="figure-img img-fluid lazyload" /></a><figcaption class="figure-caption">Gif of Google Earth Engine time lapse over Moscow, Idaho, demonstrating improved fidelity and increased time span but difficulty of framing due to the variety of datasets.</figcaption></figure>



</div>

</div>
      
    </main>

    <footer class="site-footer bg-light-blue mt-auto">
  <div class="container">
    <nav class="mt-3 mb-4">
      <ul class="nav nav-pills nav-fill">
        
        <li class="nav-item"><a class="nav-link h3" href="/geolocation/content/1_intro.html">Introduction</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/geolocation/content/2_text.html">Text Analysis</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/geolocation/content/3_reverse.html">Reverse Image Searching</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/geolocation/content/4_landmark.html">Landmark Identification</a></li>
        
        <li class="nav-item"><a class="nav-link h3 active" href="/geolocation/content/5_aerial.html">Aerial Timelapse</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/geolocation/content/6_conclusion.html">Conclusion</a></li>
        
      </ul>
    </nav>
    <div class="row align-items-center pb-5">
        <div id="footer-title" class="col-md">
          <a class="h5" href="/geolocation/">Digital Geolocation Tools for Archival Research</a>
          <br>
          <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0, </a> 2024 <a href="https://github.com/aweymo-ui">Andrew Weymouth</a>
        </div>
        <div class="col-md">
          
          <script>
            function site_search() {
              var query = document.getElementById("site-search").value;
              window.open("/geolocation/search/index.html?q=" + encodeURIComponent(query), "_self" );
            }
          </script>
          <form class="form-inline my-2 my-lg-0 float-end" role="search" id="search" onsubmit="site_search(); return false;">
            <div class="input-group">
              <input id="site-search" class="form-control" type="text" placeholder="Search" aria-label="Search box">
              <div class="input-group-append">
                <button class="btn btn-secondary" type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16"> <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/> </svg><span class="visually-hidden">submit search</span></button>
              </div>
            </div>
          </form>
          
        </div>
    </div>
  </div>
</footer>

    <!-- Bootstrap JS bundle -->
<script src="/geolocation/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other optional js -->


<script src="/geolocation/assets/lib/lazysizes.min.js" async></script>
<script src="/geolocation/assets/lib/spotlight.min.js" defer></script>
<script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
            document.getElementById("scroll-to-top").style.color = "#00448c"; // Change button color to #00448c
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        window.scroll({
            top: 0, 
            left: 0, 
            behavior: 'smooth'
        });
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link btn-lg" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-square" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/> </svg>
</button>



  </body>

</html>